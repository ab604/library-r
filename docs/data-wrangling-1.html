<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>R for Librarians - 4&nbsp; Data wrangling I</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./data-wrangling-2.html" rel="next">
<link href="./getting-started.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data-wrangling-1.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data wrangling I</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R for Librarians</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setting-the-scene.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Setting the scene</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./markup-languages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Markup Languages</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Getting started</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-wrangling-1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data wrangling I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-wrangling-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data wrangling II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./wrangling-bibliometrics-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Wrangling bibliometrics data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-spreadsheets" id="toc-sec-spreadsheets" class="nav-link active" data-scroll-target="#sec-spreadsheets"><span class="header-section-number">4.1</span> Organising your data in spreadsheets</a>
  <ul class="collapse">
  <li><a href="#plain-formats-and-excel-files" id="toc-plain-formats-and-excel-files" class="nav-link" data-scroll-target="#plain-formats-and-excel-files"><span class="header-section-number">4.1.1</span> Plain formats and Excel files</a></li>
  </ul></li>
  <li><a href="#sec-the-pipe" id="toc-sec-the-pipe" class="nav-link" data-scroll-target="#sec-the-pipe"><span class="header-section-number">4.2</span> The pipe <code>|&gt;</code></a></li>
  <li><a href="#sec-introducing-dplyr" id="toc-sec-introducing-dplyr" class="nav-link" data-scroll-target="#sec-introducing-dplyr"><span class="header-section-number">4.3</span> Introducing <code>dplyr</code></a></li>
  <li><a href="#sec-the-four-most-common-dplyr-verbs" id="toc-sec-the-four-most-common-dplyr-verbs" class="nav-link" data-scroll-target="#sec-the-four-most-common-dplyr-verbs"><span class="header-section-number">4.4</span> The four most common <code>dplyr</code> verbs</a>
  <ul class="collapse">
  <li><a href="#sec-filter-rows-with-filter" id="toc-sec-filter-rows-with-filter" class="nav-link" data-scroll-target="#sec-filter-rows-with-filter"><span class="header-section-number">4.4.1</span> Filter rows with <code>filter()</code></a></li>
  <li><a href="#sec-arranging-rows-with-arrange" id="toc-sec-arranging-rows-with-arrange" class="nav-link" data-scroll-target="#sec-arranging-rows-with-arrange"><span class="header-section-number">4.4.2</span> Arranging rows with <code>arrange()</code></a></li>
  <li><a href="#sec-selecting-columns-with-select" id="toc-sec-selecting-columns-with-select" class="nav-link" data-scroll-target="#sec-selecting-columns-with-select"><span class="header-section-number">4.4.3</span> Selecting columns with <code>select()</code></a></li>
  <li><a href="#sec-creating-new-columns-with-mutate" id="toc-sec-creating-new-columns-with-mutate" class="nav-link" data-scroll-target="#sec-creating-new-columns-with-mutate"><span class="header-section-number">4.4.4</span> Creating new columns with <code>mutate()</code></a></li>
  </ul></li>
  <li><a href="#sec-creating-grouped-summaries" id="toc-sec-creating-grouped-summaries" class="nav-link" data-scroll-target="#sec-creating-grouped-summaries"><span class="header-section-number">4.5</span> Creating grouped summaries with <code>dplyr</code></a>
  <ul class="collapse">
  <li><a href="#using-group_by-and-summarise-together" id="toc-using-group_by-and-summarise-together" class="nav-link" data-scroll-target="#using-group_by-and-summarise-together"><span class="header-section-number">4.5.1</span> Using <code>group_by()</code> and <code>summarise()</code> together</a></li>
  </ul></li>
  <li><a href="#pivots" id="toc-pivots" class="nav-link" data-scroll-target="#pivots"><span class="header-section-number">4.6</span> Pivots</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-data-wrangling-i" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data wrangling I</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="chapter-03-summary" class="unnumbered callout callout-style-simple callout-important no-icon callout-titled" title="Summary">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Summary
</div>
</div>
<div class="callout-body-container callout-body">
<p>This chapter covers some common tasks for working with tabular data using the tidyverse. The tasks are filtering for rows of interest, arranging the rows, selecting columns of interest, creating new columns, creating grouped summaries of the table, and re-shaping (aka pivoting) the table.</p>
</div>
</div>
<section id="sec-spreadsheets" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="sec-spreadsheets"><span class="header-section-number">4.1</span> Organising your data in spreadsheets</h2>
<p><a href="https://www.tandfonline.com/doi/full/10.1080/00031305.2017.1375989">Data Organization in Spreadsheets by Karl W. Broman &amp; Kara H. Woo</a> is full of practical advice and context. It is well worth reading for helping you think about best practices for organising your data for yourself, and when working with others.</p>
<section id="plain-formats-and-excel-files" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="plain-formats-and-excel-files"><span class="header-section-number">4.1.1</span> Plain formats and Excel files</h3>
<p>File formats like <code>.csv</code> and <code>.tsv</code>, comma separated variables and tab separated variables respectively are plain text files. That is to say they contain only the data, as text information, and are the simplest and most convenient way to share data as lots of software, including Excel, can read and interpret them.</p>
<p>Excel files saves files into its own proprietary format <code>.xls</code> or <code>.xlsx</code> that holds information in addition to the data itself (metadata). For reading and writing excel files in R, tidyverse <code>readxl</code> package is the place to start: <a href="https://readxl.tidyverse.org/">readxl homepage</a>.</p>
<p>When we install the tidyverse packages, <code>readxl</code> is installed, but not loaded by default when we load <code>library(tidyverse)</code> so we have to load it separately, <code>library(readxl)</code>.</p>
</section>
</section>
<section id="sec-the-pipe" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-the-pipe"><span class="header-section-number">4.2</span> The pipe <code>|&gt;</code></h2>
<p>The pipe operator <code>|&gt;</code> allows you to combine operations by passing the output of an object or function to another. It will make more sense why this is a good thing once we start writing code, but you can think of it as a coding adverb such as <em>then</em>.</p>
<p>In the example below, the <code>penguins</code> data frame is piped to the <code>count</code> function from <code>dplyr</code> (<a href="#sec-introducing-dplyr" class="quarto-xref"><span>Section 4.3</span></a>) which has the <code>species</code> column as its argument.</p>
<p>Think of it as: <em>Return the penguins table <strong>then</strong> count how many rows there are for each different penguin species</em>.</p>
<p><strong>Note</strong> that as I am not assigning the output to an object with <code>&lt;-</code> (<a href="getting-started.html#sec-assigning-objects" class="quarto-xref"><span>Section 3.9</span></a>) the output is returned to the console.</p>
<div class="unnumbered callout callout-style-simple callout-tip callout-titled" title="Pipe style">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pipe style
</div>
</div>
<div class="callout-body-container callout-body">
<p>The recommended pipe style is a space before a pipe and the pipe to be the last thing on a line, like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  species       n
  &lt;fct&gt;     &lt;int&gt;
1 Adelie      152
2 Chinstrap    68
3 Gentoo      124</code></pre>
</div>
</div>
<p>This makes reading and adding new steps easier.</p>
</div>
</div>
<p>The pipe <code>|&gt;</code> was added to R as of version 4.1.0 , you may see the <code>%&gt;%</code> pipe from the <code>magrittr</code> package sometimes, but it’s simpler to use the native version. However, you may need to check the native pipe is enabled in the <code>Options</code> (<a href="#fig-pipe" class="quarto-xref">Figure&nbsp;<span>4.1</span></a>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-pipe" class="quarto-figure quarto-figure-center quarto-float anchored" alt="An image of the settings for the native pipe `|>` option in RStudio.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/R-native-pipe.PNG" class="img-fluid figure-img" alt="An image of the settings for the native pipe `|>` option in RStudio." width="400">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pipe-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: Setting the native pipe <code>|&gt;</code> option in RStudio
</figcaption>
</figure>
</div>
</div>
</div>
<p>The shortcut for the pipe operator is <code>Ctl+Shift+M</code> on Windows or <code>Cmd+Shift+M</code> on a Mac.</p>
</section>
<section id="sec-introducing-dplyr" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="sec-introducing-dplyr"><span class="header-section-number">4.3</span> Introducing <code>dplyr</code></h2>
<p><a href="https://dplyr.tidyverse.org/"><code>dplyr</code></a> <em>“is a grammar of data manipulation”</em>. Concretely, it’s a package of functions from the tidyverse that have been created for tasks that require manipulation of data stored in data frames <a href="getting-started.html#sec-data-frames" class="quarto-xref"><span>Section 3.10.3</span></a>.</p>
<p>As mentioned in <a href="getting-started.html#sec-base-r-tidyverse" class="quarto-xref"><span>Section 3.6</span></a>, the grammar is the naming of the functions as verbs. Personally, I find this parallel between R code and human language makes things cognitively easier for me. I can describe what I want to do using natural language and translate it easily into tidyverse code.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-dplyr-name" class="quarto-figure quarto-figure-center quarto-float anchored" alt="The creator of dplyr Hadley Wickham explains that in the name, d is for dataframes and plyr is to evoke the tool pliers.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-dplyr-name-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/dplyr-name-github.png" class="img-fluid figure-img" alt="The creator of dplyr Hadley Wickham explains that in the name, d is for dataframes and plyr is to evoke the tool pliers." width="484">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-dplyr-name-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: <a href="https://github.com/tidyverse/dplyr/issues/1857">Why is it called <code>dplyr</code>?</a>
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-the-four-most-common-dplyr-verbs" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="sec-the-four-most-common-dplyr-verbs"><span class="header-section-number">4.4</span> The four most common <code>dplyr</code> verbs</h2>
<p>We’ll use the four most common verbs in <code>dplyr</code> to examine the Palmer Penguins data (<a href="getting-started.html#sec-palmer-penguins" class="quarto-xref"><span>Section 3.4.1</span></a>).</p>
<section id="sec-filter-rows-with-filter" class="level3" data-number="4.4.1">
<h3 data-number="4.4.1" class="anchored" data-anchor-id="sec-filter-rows-with-filter"><span class="header-section-number">4.4.1</span> Filter rows with <code>filter()</code></h3>
<p>To remind you, the <code>penguins</code> data frame has 344 rows (<a href="getting-started.html#sec-palmer-penguins" class="quarto-xref"><span>Section 3.4.1</span></a>). Each row contains a set of observations contained in the columns for a single penguin from one of three species (<a href="getting-started.html#fig-palmer-penguins" class="quarto-xref">Figure&nbsp;<span>3.6</span></a>) living on one of three islands.</p>
<p>So if for example we wanted to <em>filter</em> the data frame for only the rows of penguins with a bills longer or equal to 50 mm, we would use the <code>filter</code> function as shown in <a href="#fig-filter" class="quarto-xref">Figure&nbsp;<span>4.3</span></a>.</p>
<p>The function takes the <code>penguins</code> data frame object as the first argument. Either within the parentheses or via a pipe.</p>
<p>The second argument is the column (variable) we wish to filter on, in this case <code>bill_length_mm</code> and a logical expression (evaluates as <code>TRUE</code> or <code>FALSE</code>) that is the filter.</p>
<p>Here the expression is greater or equal to 50 <code>&gt;= 50</code>.</p>
<p>So any row with a value in <code>bill_length_mm</code> greater or equal to 50 is <code>TRUE</code> and is retained and any row with a value less than 50 is <code>FALSE</code> and is discarded.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-filter" class="quarto-figure quarto-figure-center quarto-float anchored" alt="The dplyr filter function. The filter function returns rows from your data frame that satisfy your filter expression as `TRUE`. Here it shows how filter will return all Palmer Penguins with a bill longer or equal to 50 mm, either by using `penguins` dataframe as the first argument to the function or by passing the `penguins` data frame via a pipe.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/dplyr-filter-penguin.png" class="img-fluid figure-img" style="width:80.0%" alt="The dplyr filter function. The filter function returns rows from your data frame that satisfy your filter expression as `TRUE`. Here it shows how filter will return all Palmer Penguins with a bill longer or equal to 50 mm, either by using `penguins` dataframe as the first argument to the function or by passing the `penguins` data frame via a pipe.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-filter-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: The <code>dplyr filter</code> function. The filter function returns rows from your data frame that satisfy your filter expression as <code>TRUE</code>. Here it will return all Palmer Penguins with a bill longer or equal to 50 mm. Here it shows how filter will return all Palmer Penguins with a bill longer or equal to 50 mm. The function can either be used by providing the <code>penguins</code> data.frame as the first argument to the function or by passing the <code>penguins</code> data frame via a pipe.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Here is the code, note that I’ve piped the output to the dplyr <a href="https://dplyr.tidyverse.org/reference/glimpse.html"><code>glimpse()</code></a> function which prints a transposed summary of the filtered data frame contents to the console.</p>
<p>Instead of a table of 344 penguins, we’ve returned a data frame with the 57 penguins (rows) that have bills equal or longer than 50 mm, but we still have 8 columns (variables) as <code>filter()</code> only acts on the rows.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(bill_length_mm <span class="sc">&gt;=</span> <span class="dv">50</span>) <span class="sc">|&gt;</span> </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 57
Columns: 8
$ species           &lt;fct&gt; Gentoo, Gentoo, Gentoo, Gentoo, Gentoo, Gentoo, Gent…
$ island            &lt;fct&gt; Biscoe, Biscoe, Biscoe, Biscoe, Biscoe, Biscoe, Bisc…
$ bill_length_mm    &lt;dbl&gt; 50.0, 50.0, 50.2, 50.0, 59.6, 50.5, 50.5, 50.1, 50.4…
$ bill_depth_mm     &lt;dbl&gt; 16.3, 15.2, 14.3, 15.3, 17.0, 15.9, 15.9, 15.0, 15.3…
$ flipper_length_mm &lt;int&gt; 230, 218, 218, 220, 230, 222, 225, 225, 224, 231, 22…
$ body_mass_g       &lt;int&gt; 5700, 5700, 5700, 5550, 6050, 5550, 5400, 5000, 5550…
$ sex               &lt;fct&gt; male, male, male, male, male, male, male, male, male…
$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2008, 2008, 2008, 2008…</code></pre>
</div>
</div>
<p>Filtering can be done using multiple columns and expressions. See the official <a href="https://dplyr.tidyverse.org/reference/filter.html">filter documentation</a> for more complex examples.</p>
</section>
<section id="sec-arranging-rows-with-arrange" class="level3" data-number="4.4.2">
<h3 data-number="4.4.2" class="anchored" data-anchor-id="sec-arranging-rows-with-arrange"><span class="header-section-number">4.4.2</span> Arranging rows with <code>arrange()</code></h3>
<p>Another row verb is <code>arrange()</code> which as the name suggests <em>arranges the rows</em> according to column values (<a href="#fig-arrange" class="quarto-xref">Figure&nbsp;<span>4.4</span></a> ).</p>
<p>Here I’ll pipe the <code>penguins</code> data frame to the base R <code>head()</code> function, which returns the first six rows by default. Again I am returning the output to the console.</p>
<p>I’ve formatted the output slightly here to highlight <code>flipper_length_mm</code> in red, so it may look a bit different to your output. We can see that row four is one of the two rows with missing values (indicated by <code>NA</code>) that we first encountered as a warning when we plotted this data (<a href="getting-started.html#sec-plotting-and-exporting-data" class="quarto-xref"><span>Section 3.11</span></a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-900727dc{}.cl-8ffbcea0{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-8ffbceaa{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(231, 48, 55, 1.00);background-color:transparent;}.cl-90000268{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-90000272{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-90002374{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9000237e{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9000237f{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002388{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002389{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9000238a{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002392{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002393{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002394{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90002395{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9000239c{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9000239d{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023a6{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023a7{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023a8{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023a9{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023b0{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023b1{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023b2{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023ba{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023bb{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023bc{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023c4{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-900023c5{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-900727dc"><thead><tr style="overflow-wrap:break-word;"><th class="cl-90002374"><p class="cl-90000268"><span class="cl-8ffbcea0">species</span></p></th><th class="cl-9000237e"><p class="cl-90000268"><span class="cl-8ffbcea0">island</span></p></th><th class="cl-9000237f"><p class="cl-90000272"><span class="cl-8ffbcea0">bill_length_mm</span></p></th><th class="cl-90002388"><p class="cl-90000272"><span class="cl-8ffbcea0">bill_depth_mm</span></p></th><th class="cl-90002389"><p class="cl-90000272"><span class="cl-8ffbcea0">flipper_length_mm</span></p></th><th class="cl-9000238a"><p class="cl-90000272"><span class="cl-8ffbcea0">body_mass_g</span></p></th><th class="cl-90002392"><p class="cl-90000268"><span class="cl-8ffbcea0">sex</span></p></th><th class="cl-90002393"><p class="cl-90000272"><span class="cl-8ffbcea0">year</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-90002394"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-90002395"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-9000239c"><p class="cl-90000272"><span class="cl-8ffbcea0">391</span></p></td><td class="cl-9000239d"><p class="cl-90000272"><span class="cl-8ffbcea0">187</span></p></td><td class="cl-900023a6"><p class="cl-90000272"><span class="cl-8ffbceaa">181</span></p></td><td class="cl-900023a7"><p class="cl-90000272"><span class="cl-8ffbcea0">3750</span></p></td><td class="cl-900023a8"><p class="cl-90000268"><span class="cl-8ffbcea0">male</span></p></td><td class="cl-900023a9"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90002394"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-90002395"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-9000239c"><p class="cl-90000272"><span class="cl-8ffbcea0">395</span></p></td><td class="cl-9000239d"><p class="cl-90000272"><span class="cl-8ffbcea0">174</span></p></td><td class="cl-900023a6"><p class="cl-90000272"><span class="cl-8ffbceaa">186</span></p></td><td class="cl-900023a7"><p class="cl-90000272"><span class="cl-8ffbcea0">3800</span></p></td><td class="cl-900023a8"><p class="cl-90000268"><span class="cl-8ffbcea0">female</span></p></td><td class="cl-900023a9"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90002394"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-90002395"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-9000239c"><p class="cl-90000272"><span class="cl-8ffbcea0">403</span></p></td><td class="cl-9000239d"><p class="cl-90000272"><span class="cl-8ffbcea0">180</span></p></td><td class="cl-900023a6"><p class="cl-90000272"><span class="cl-8ffbceaa">195</span></p></td><td class="cl-900023a7"><p class="cl-90000272"><span class="cl-8ffbcea0">3250</span></p></td><td class="cl-900023a8"><p class="cl-90000268"><span class="cl-8ffbcea0">female</span></p></td><td class="cl-900023a9"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90002394"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-90002395"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-9000239c"><p class="cl-90000272"><span class="cl-8ffbcea0">NA</span></p></td><td class="cl-9000239d"><p class="cl-90000272"><span class="cl-8ffbcea0">NA</span></p></td><td class="cl-900023a6"><p class="cl-90000272"><span class="cl-8ffbceaa">NA</span></p></td><td class="cl-900023a7"><p class="cl-90000272"><span class="cl-8ffbcea0">NA</span></p></td><td class="cl-900023a8"><p class="cl-90000268"><span class="cl-8ffbcea0">NA</span></p></td><td class="cl-900023a9"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90002394"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-90002395"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-9000239c"><p class="cl-90000272"><span class="cl-8ffbcea0">367</span></p></td><td class="cl-9000239d"><p class="cl-90000272"><span class="cl-8ffbcea0">193</span></p></td><td class="cl-900023a6"><p class="cl-90000272"><span class="cl-8ffbceaa">193</span></p></td><td class="cl-900023a7"><p class="cl-90000272"><span class="cl-8ffbcea0">3450</span></p></td><td class="cl-900023a8"><p class="cl-90000268"><span class="cl-8ffbcea0">female</span></p></td><td class="cl-900023a9"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-900023b0"><p class="cl-90000268"><span class="cl-8ffbcea0">Adelie</span></p></td><td class="cl-900023b1"><p class="cl-90000268"><span class="cl-8ffbcea0">Torgersen</span></p></td><td class="cl-900023b2"><p class="cl-90000272"><span class="cl-8ffbcea0">393</span></p></td><td class="cl-900023ba"><p class="cl-90000272"><span class="cl-8ffbcea0">206</span></p></td><td class="cl-900023bb"><p class="cl-90000272"><span class="cl-8ffbceaa">190</span></p></td><td class="cl-900023bc"><p class="cl-90000272"><span class="cl-8ffbcea0">3650</span></p></td><td class="cl-900023c4"><p class="cl-90000268"><span class="cl-8ffbcea0">male</span></p></td><td class="cl-900023c5"><p class="cl-90000272"><span class="cl-8ffbcea0">2007</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Next I add another line of code using <code>arrange(flipper_length_mm)</code> to sort the rows according to the values in this column. It defaults to ascending order.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(flipper_length_mm) <span class="sc">|&gt;</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-9057a72a{}.cl-904b9a84{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-904b9a8e{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(231, 48, 55, 1.00);background-color:transparent;}.cl-904f8540{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-904f854a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-904f9eae{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eb8{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ec2{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ec3{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ec4{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ecc{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ecd{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ece{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ed6{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ed7{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ed8{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ed9{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ee0{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eea{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eeb{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eec{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eed{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ef4{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ef5{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9ef6{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9efe{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9eff{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f00{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f01{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f08{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f09{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f0a{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f12{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f13{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f14{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f15{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-904f9f1c{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-9057a72a"><thead><tr style="overflow-wrap:break-word;"><th class="cl-904f9eae"><p class="cl-904f8540"><span class="cl-904b9a84">species</span></p></th><th class="cl-904f9eb8"><p class="cl-904f8540"><span class="cl-904b9a84">island</span></p></th><th class="cl-904f9ec2"><p class="cl-904f854a"><span class="cl-904b9a84">bill_length_mm</span></p></th><th class="cl-904f9ec3"><p class="cl-904f854a"><span class="cl-904b9a84">bill_depth_mm</span></p></th><th class="cl-904f9ec4"><p class="cl-904f854a"><span class="cl-904b9a84">flipper_length_mm</span></p></th><th class="cl-904f9ecc"><p class="cl-904f854a"><span class="cl-904b9a84">body_mass_g</span></p></th><th class="cl-904f9ecd"><p class="cl-904f8540"><span class="cl-904b9a84">sex</span></p></th><th class="cl-904f9ece"><p class="cl-904f854a"><span class="cl-904b9a84">year</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-904f9ed6"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9ed7"><p class="cl-904f8540"><span class="cl-904b9a84">Biscoe</span></p></td><td class="cl-904f9ed8"><p class="cl-904f854a"><span class="cl-904b9a84">379</span></p></td><td class="cl-904f9ed9"><p class="cl-904f854a"><span class="cl-904b9a84">186</span></p></td><td class="cl-904f9ee0"><p class="cl-904f854a"><span class="cl-904b9a8e">172</span></p></td><td class="cl-904f9eea"><p class="cl-904f854a"><span class="cl-904b9a84">3150</span></p></td><td class="cl-904f9eeb"><p class="cl-904f8540"><span class="cl-904b9a84">female</span></p></td><td class="cl-904f9eec"><p class="cl-904f854a"><span class="cl-904b9a84">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-904f9ed6"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9ed7"><p class="cl-904f8540"><span class="cl-904b9a84">Biscoe</span></p></td><td class="cl-904f9ed8"><p class="cl-904f854a"><span class="cl-904b9a84">378</span></p></td><td class="cl-904f9ed9"><p class="cl-904f854a"><span class="cl-904b9a84">183</span></p></td><td class="cl-904f9ee0"><p class="cl-904f854a"><span class="cl-904b9a8e">174</span></p></td><td class="cl-904f9eea"><p class="cl-904f854a"><span class="cl-904b9a84">3400</span></p></td><td class="cl-904f9eeb"><p class="cl-904f8540"><span class="cl-904b9a84">female</span></p></td><td class="cl-904f9eec"><p class="cl-904f854a"><span class="cl-904b9a84">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-904f9eed"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9ef4"><p class="cl-904f8540"><span class="cl-904b9a84">Torgersen</span></p></td><td class="cl-904f9ef5"><p class="cl-904f854a"><span class="cl-904b9a84">402</span></p></td><td class="cl-904f9ef6"><p class="cl-904f854a"><span class="cl-904b9a84">170</span></p></td><td class="cl-904f9efe"><p class="cl-904f854a"><span class="cl-904b9a8e">176</span></p></td><td class="cl-904f9eff"><p class="cl-904f854a"><span class="cl-904b9a84">3450</span></p></td><td class="cl-904f9f00"><p class="cl-904f8540"><span class="cl-904b9a84">female</span></p></td><td class="cl-904f9f01"><p class="cl-904f854a"><span class="cl-904b9a84">2009</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-904f9ed6"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9ed7"><p class="cl-904f8540"><span class="cl-904b9a84">Dream</span></p></td><td class="cl-904f9ed8"><p class="cl-904f854a"><span class="cl-904b9a84">395</span></p></td><td class="cl-904f9ed9"><p class="cl-904f854a"><span class="cl-904b9a84">167</span></p></td><td class="cl-904f9ee0"><p class="cl-904f854a"><span class="cl-904b9a8e">178</span></p></td><td class="cl-904f9eea"><p class="cl-904f854a"><span class="cl-904b9a84">3250</span></p></td><td class="cl-904f9eeb"><p class="cl-904f8540"><span class="cl-904b9a84">female</span></p></td><td class="cl-904f9eec"><p class="cl-904f854a"><span class="cl-904b9a84">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-904f9ed6"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9ed7"><p class="cl-904f8540"><span class="cl-904b9a84">Dream</span></p></td><td class="cl-904f9ed8"><p class="cl-904f854a"><span class="cl-904b9a84">372</span></p></td><td class="cl-904f9ed9"><p class="cl-904f854a"><span class="cl-904b9a84">181</span></p></td><td class="cl-904f9ee0"><p class="cl-904f854a"><span class="cl-904b9a8e">178</span></p></td><td class="cl-904f9eea"><p class="cl-904f854a"><span class="cl-904b9a84">3900</span></p></td><td class="cl-904f9eeb"><p class="cl-904f8540"><span class="cl-904b9a84">male</span></p></td><td class="cl-904f9eec"><p class="cl-904f854a"><span class="cl-904b9a84">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-904f9f08"><p class="cl-904f8540"><span class="cl-904b9a84">Adelie</span></p></td><td class="cl-904f9f09"><p class="cl-904f8540"><span class="cl-904b9a84">Dream</span></p></td><td class="cl-904f9f0a"><p class="cl-904f854a"><span class="cl-904b9a84">331</span></p></td><td class="cl-904f9f12"><p class="cl-904f854a"><span class="cl-904b9a84">161</span></p></td><td class="cl-904f9f13"><p class="cl-904f854a"><span class="cl-904b9a8e">178</span></p></td><td class="cl-904f9f14"><p class="cl-904f854a"><span class="cl-904b9a84">2900</span></p></td><td class="cl-904f9f15"><p class="cl-904f8540"><span class="cl-904b9a84">female</span></p></td><td class="cl-904f9f1c"><p class="cl-904f854a"><span class="cl-904b9a84">2008</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>To arrange for descending order, I need to use the <code>desc()</code> function in combination with <code>arrange()</code> like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(flipper_length_mm)) <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-90a0d486{}.cl-9095ee0e{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-9095ee18{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(231, 48, 55, 1.00);background-color:transparent;}.cl-9099b8f4{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9099b8fe{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-9099d0d2{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0dc{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0dd{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0e6{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0e7{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0e8{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0f0{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0f1{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0f2{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0f3{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0fa{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0fb{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0fc{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d0fd{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d104{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d105{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d10e{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d10f{width:0.789in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d110{width:1.461in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d118{width:1.377in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d119{width:1.713in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d11a{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d11b{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-9099d122{width:0.621in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-90a0d486"><thead><tr style="overflow-wrap:break-word;"><th class="cl-9099d0d2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">species</span></p></th><th class="cl-9099d0dc"><p class="cl-9099b8f4"><span class="cl-9095ee0e">island</span></p></th><th class="cl-9099d0dd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">bill_length_mm</span></p></th><th class="cl-9099d0e6"><p class="cl-9099b8fe"><span class="cl-9095ee0e">bill_depth_mm</span></p></th><th class="cl-9099d0e7"><p class="cl-9099b8fe"><span class="cl-9095ee0e">flipper_length_mm</span></p></th><th class="cl-9099d0e8"><p class="cl-9099b8fe"><span class="cl-9095ee0e">body_mass_g</span></p></th><th class="cl-9099d0f0"><p class="cl-9099b8f4"><span class="cl-9095ee0e">sex</span></p></th><th class="cl-9099d0f1"><p class="cl-9099b8fe"><span class="cl-9095ee0e">year</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-9099d0f2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d0f3"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d0fa"><p class="cl-9099b8fe"><span class="cl-9095ee0e">543</span></p></td><td class="cl-9099d0fb"><p class="cl-9099b8fe"><span class="cl-9095ee0e">157</span></p></td><td class="cl-9099d0fc"><p class="cl-9099b8fe"><span class="cl-9095ee18">231</span></p></td><td class="cl-9099d0fd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">5650</span></p></td><td class="cl-9099d104"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d105"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2008</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9099d0f2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d0f3"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d0fa"><p class="cl-9099b8fe"><span class="cl-9095ee0e">500</span></p></td><td class="cl-9099d0fb"><p class="cl-9099b8fe"><span class="cl-9095ee0e">163</span></p></td><td class="cl-9099d0fc"><p class="cl-9099b8fe"><span class="cl-9095ee18">230</span></p></td><td class="cl-9099d0fd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">5700</span></p></td><td class="cl-9099d104"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d105"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9099d0f2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d0f3"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d0fa"><p class="cl-9099b8fe"><span class="cl-9095ee0e">596</span></p></td><td class="cl-9099d0fb"><p class="cl-9099b8fe"><span class="cl-9095ee0e">170</span></p></td><td class="cl-9099d0fc"><p class="cl-9099b8fe"><span class="cl-9095ee18">230</span></p></td><td class="cl-9099d0fd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">6050</span></p></td><td class="cl-9099d104"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d105"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2007</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9099d0f2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d0f3"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d0fa"><p class="cl-9099b8fe"><span class="cl-9095ee0e">498</span></p></td><td class="cl-9099d0fb"><p class="cl-9099b8fe"><span class="cl-9095ee0e">168</span></p></td><td class="cl-9099d0fc"><p class="cl-9099b8fe"><span class="cl-9095ee18">230</span></p></td><td class="cl-9099d0fd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">5700</span></p></td><td class="cl-9099d104"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d105"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2008</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9099d0f2"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d0f3"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d0fa"><p class="cl-9099b8fe"><span class="cl-9095ee0e">486</span></p></td><td class="cl-9099d0fb"><p class="cl-9099b8fe"><span class="cl-9095ee0e">160</span></p></td><td class="cl-9099d0fc"><p class="cl-9099b8fe"><span class="cl-9095ee18">230</span></p></td><td class="cl-9099d0fd"><p class="cl-9099b8fe"><span class="cl-9095ee0e">5800</span></p></td><td class="cl-9099d104"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d105"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2008</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-9099d10e"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Gentoo</span></p></td><td class="cl-9099d10f"><p class="cl-9099b8f4"><span class="cl-9095ee0e">Biscoe</span></p></td><td class="cl-9099d110"><p class="cl-9099b8fe"><span class="cl-9095ee0e">521</span></p></td><td class="cl-9099d118"><p class="cl-9099b8fe"><span class="cl-9095ee0e">170</span></p></td><td class="cl-9099d119"><p class="cl-9099b8fe"><span class="cl-9095ee18">230</span></p></td><td class="cl-9099d11a"><p class="cl-9099b8fe"><span class="cl-9095ee0e">5550</span></p></td><td class="cl-9099d11b"><p class="cl-9099b8f4"><span class="cl-9095ee0e">male</span></p></td><td class="cl-9099d122"><p class="cl-9099b8fe"><span class="cl-9095ee0e">2009</span></p></td></tr></tbody></table></div>
</div>
</div>
<p>Further guidance about <code>arrange()</code> from <a href="https://r4ds.had.co.nz/transform.html#arrange-rows-with-arrange">R4DS</a>:</p>
<blockquote class="blockquote">
<p>“If you provide more than one column name, each additional column will be used to break ties in the values of preceding columns… Missing values are always sorted at the end.”</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<div id="fig-arrange" class="quarto-figure quarto-figure-center quarto-float anchored" alt="The dplyr arrange function. The arrange function orders rows from your data frame according to column variables. Here it will order the Palmer Penguins data.frame according to their flipper length. The function can either be used by providing the `penguins` dataframe as the first argument to the function or by passing the `penguins` dataframe via a pipe.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/dplyr-arrange-penguin.png" class="img-fluid figure-img" style="width:80.0%" alt="The dplyr arrange function. The arrange function orders rows from your data frame according to column variables. Here it will order the Palmer Penguins data.frame according to their flipper length. The function can either be used by providing the `penguins` dataframe as the first argument to the function or by passing the `penguins` dataframe via a pipe.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-arrange-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.4: The <code>dplyr arrange</code> function. The arrange function orders rows from your data frame according to column variables. Here it will order the Palmer Penguins data.frame according to their flipper length. The function can either be used by providing the <code>penguins</code> data.frame as the first argument to the function or by passing the <code>penguins</code> data.frame via a pipe.
</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-selecting-columns-with-select" class="level3" data-number="4.4.3">
<h3 data-number="4.4.3" class="anchored" data-anchor-id="sec-selecting-columns-with-select"><span class="header-section-number">4.4.3</span> Selecting columns with <code>select()</code></h3>
<p>Often your data contains variables you don’t need for the analysis you are performing, or you want to subset them to share with others. To select only the ones you need, or explore subsets of the variables, the <code>select()</code> verb enables you to keep only the columns of interest.</p>
<p><a href="#fig-select" class="quarto-xref">Figure&nbsp;<span>4.5</span></a> shows the use of <code>select()</code> to choose only the <code>island</code> and <code>year</code> columns, with or without the pipe.</p>
<p>Selecting the variables contained in the columns can be done in various ways. For example, by the column number, the variable name or by range. Check the help function <code>?select</code> for more options.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-select" class="quarto-figure quarto-figure-center quarto-float anchored" alt="The `dplyr select` function. This function selects columns from your data frame. Here it will select the island and year columns from Palmer Penguins data.frame. The function can either be used by providing the `penguins` data.frame as the first argument to the function or by passing the `penguins` data.frame via a pipe.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-select-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/dplyr-select-penguin.png" class="img-fluid figure-img" style="width:80.0%" alt="The `dplyr select` function. This function selects columns from your data frame. Here it will select the island and year columns from Palmer Penguins data.frame. The function can either be used by providing the `penguins` data.frame as the first argument to the function or by passing the `penguins` data.frame via a pipe.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-select-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.5: The <code>dplyr select</code> function. This function selects columns from your data frame. Here it will select the island and year columns from Palmer Penguins data.frame. The function can either be used by providing the <code>penguins</code> data.frame as the first argument to the function or by passing the <code>penguins</code> data.frame via a pipe.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Let’s do this a couple of ways, first reminding ourselves of what the columns are using <code>glimpse()</code>. I’ll continue with the piped approach.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 8
$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…
$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …
$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …
$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…
$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …
$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…
$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…</code></pre>
</div>
</div>
<p>So we can see the eight column names and that <code>island</code> is column 2 and <code>year</code> is column 8.</p>
<p>Let’s select by name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(island, year) <span class="sc">|&gt;</span> </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 2
$ island &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ year   &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 200…</code></pre>
</div>
</div>
<p>By column number:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="dv">2</span>,<span class="dv">8</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 2
$ island &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ year   &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 200…</code></pre>
</div>
</div>
<p>By negative selection using the minus sign <code>-</code> to exclude the columns we don’t want:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>species,<span class="sc">-</span>bill_length_mm, <span class="sc">-</span>bill_depth_mm,</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="sc">-</span>flipper_length_mm,<span class="sc">-</span>body_mass_g, <span class="sc">-</span>sex) <span class="sc">|&gt;</span> </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 344
Columns: 2
$ island &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…
$ year   &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 200…</code></pre>
</div>
</div>
<p>See the <a href="https://dplyr.tidyverse.org/reference/select.html"><code>select</code> documentation</a> for other approaches for using select such as renaming columns, reordering the columns or picking variables with selection helper functions.</p>
</section>
<section id="sec-creating-new-columns-with-mutate" class="level3" data-number="4.4.4">
<h3 data-number="4.4.4" class="anchored" data-anchor-id="sec-creating-new-columns-with-mutate"><span class="header-section-number">4.4.4</span> Creating new columns with <code>mutate()</code></h3>
<p>Another common task is to create a new variable or variables, often from existing data within the data frame. For this we use the <code>mutate()</code> verb. It follows the same syntax as for <code>filter()</code>, <code>arrange()</code> and <code>select()</code> in that the first argument is the dataset, and the subsequent arguments are the new variables we wish to create (<a href="#fig-mutate" class="quarto-xref">Figure&nbsp;<span>4.6</span></a>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-mutate" class="quarto-figure quarto-figure-center quarto-float anchored" alt="The `dplyr mutate` function. The mutate function creates new column variables in your data frame. Here mutate creates a new variable called `body_mass_kg` in the Palmer Penguins data.frame by dividing the values in the `body_mass_g` column by 1000 and storing the answer in new variable `body_mass_kg`. The function can either be used by providing the `penguins` data.frame as the first argument to the function or by passing the `penguins` data.frame via a pipe.">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-mutate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/dplyr-mutate-penguin.png" class="img-fluid figure-img" style="width:80.0%" alt="The `dplyr mutate` function. The mutate function creates new column variables in your data frame. Here mutate creates a new variable called `body_mass_kg` in the Palmer Penguins data.frame by dividing the values in the `body_mass_g` column by 1000 and storing the answer in new variable `body_mass_kg`. The function can either be used by providing the `penguins` data.frame as the first argument to the function or by passing the `penguins` data.frame via a pipe.">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mutate-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.6: The <code>dplyr mutate</code> function. The mutate function creates new column variables in your data frame. Here mutate creates a new variable called <code>body_mass_kg</code> in the Palmer Penguins data.frame by dividing the values in the <code>body_mass_g</code> column by 1000 and storing the answer in new variable <code>body_mass_kg</code>. The function can either be used by providing the <code>penguins</code> data.frame as the first argument to the function or by passing the <code>penguins</code> data.frame via a pipe.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Here I’ll use the piped syntax again and <code>glimpse()</code> on the output to create a new variable for penguin body mass in kilograms called <code>body_mass_kg</code> from the existing body mass in grams variable by dividing by 1,000 using <code>mutate()</code>.</p>
<p>I’m also going to use <code>select()</code> to select only the <code>species</code>, <code>body_mass_g</code> and new variable <code>body_mass_kg</code> and then <code>head()</code> to view the first six rows to make the output a bit easier to read.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(species, body_mass_g, body_mass_kg) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div class="tabwid"><style>.cl-91004bf0{}.cl-90f5b76c{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-90f5b776{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 92, 132, 1.00);background-color:transparent;}.cl-90f5b777{font-family:'Consolas';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(231, 48, 55, 1.00);background-color:transparent;}.cl-90f9db62{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-90f9db6c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-90f9f624{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f62e{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f62f{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f630{width:1.293in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f638{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f639{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f642{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f643{width:1.293in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f64c{width:0.873in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f64d{width:1.041in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f656{width:1.209in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-90f9f657{width:1.293in;background-color:rgba(255, 255, 255, 1.00);vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-91004bf0"><thead><tr style="overflow-wrap:break-word;"><th class="cl-90f9f624"><p class="cl-90f9db62"><span class="cl-90f5b76c">species</span></p></th><th class="cl-90f9f62e"><p class="cl-90f9db62"><span class="cl-90f5b76c">island</span></p></th><th class="cl-90f9f62f"><p class="cl-90f9db6c"><span class="cl-90f5b76c">body_mass_g</span></p></th><th class="cl-90f9f630"><p class="cl-90f9db6c"><span class="cl-90f5b76c">body_mass_kg</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-90f9f638"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f639"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f642"><p class="cl-90f9db6c"><span class="cl-90f5b776">3750</span></p></td><td class="cl-90f9f643"><p class="cl-90f9db6c"><span class="cl-90f5b777">3.75</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90f9f638"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f639"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f642"><p class="cl-90f9db6c"><span class="cl-90f5b776">3800</span></p></td><td class="cl-90f9f643"><p class="cl-90f9db6c"><span class="cl-90f5b777">3.80</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90f9f638"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f639"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f642"><p class="cl-90f9db6c"><span class="cl-90f5b776">3250</span></p></td><td class="cl-90f9f643"><p class="cl-90f9db6c"><span class="cl-90f5b777">3.25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90f9f638"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f639"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f642"><p class="cl-90f9db6c"><span class="cl-90f5b776">NA</span></p></td><td class="cl-90f9f643"><p class="cl-90f9db6c"><span class="cl-90f5b777">NA</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90f9f638"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f639"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f642"><p class="cl-90f9db6c"><span class="cl-90f5b776">3450</span></p></td><td class="cl-90f9f643"><p class="cl-90f9db6c"><span class="cl-90f5b777">3.45</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-90f9f64c"><p class="cl-90f9db62"><span class="cl-90f5b76c">Adelie</span></p></td><td class="cl-90f9f64d"><p class="cl-90f9db62"><span class="cl-90f5b76c">Torgersen</span></p></td><td class="cl-90f9f656"><p class="cl-90f9db6c"><span class="cl-90f5b776">3650</span></p></td><td class="cl-90f9f657"><p class="cl-90f9db6c"><span class="cl-90f5b777">3.65</span></p></td></tr></tbody></table></div>
</div>
</div>
</section>
</section>
<section id="sec-creating-grouped-summaries" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="sec-creating-grouped-summaries"><span class="header-section-number">4.5</span> Creating grouped summaries with <code>dplyr</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mass_g =</span> <span class="fu">mean</span>(body_mass_g,<span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">n_penguins =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  mean_mass_g n_penguins
        &lt;dbl&gt;      &lt;int&gt;
1       4202.        344</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(species) <span class="sc">|&gt;</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_mass_g =</span> <span class="fu">mean</span>(body_mass_g,<span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">n_penguins =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  species   mean_mass_g n_penguins
  &lt;fct&gt;           &lt;dbl&gt;      &lt;int&gt;
1 Adelie          3701.        152
2 Chinstrap       3733.         68
3 Gentoo          5076.        124</code></pre>
</div>
</div>
<section id="using-group_by-and-summarise-together" class="level3" data-number="4.5.1">
<h3 data-number="4.5.1" class="anchored" data-anchor-id="using-group_by-and-summarise-together"><span class="header-section-number">4.5.1</span> Using <code>group_by()</code> and <code>summarise()</code> together</h3>
</section>
</section>
<section id="pivots" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="pivots"><span class="header-section-number">4.6</span> Pivots</h2>
<p>Data can be untidy in different ways. One way might be that the values are in the variable names. Or perhaps the reverse is true and you’d like the values to be column names.</p>
<p>Reshaping a table is called pivoting. If one pivots a table that leads to increasing the number of rows one would use <code>pivot_longer()</code> and if one pivots a table to increase the number of columns one would use <code>pivot_wider()</code> (<a href="#fig-pivot" class="quarto-xref">Figure&nbsp;<span>4.7</span></a> and <a href="#fig-pivot-animation" class="quarto-xref">Figure&nbsp;<span>4.8</span></a>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-pivot" class="quarto-figure quarto-figure-center quarto-float anchored" alt="pivot">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pivot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/pivot-penguins.png" class="img-fluid figure-img" alt="pivot" width="1422">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pivot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.7: pivot
</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div id="fig-pivot-animation" class="quarto-figure quarto-figure-center quarto-float anchored" alt="pivot">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-pivot-animation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="img/tidyr-pivoting.gif" class="img-fluid figure-img" alt="pivot">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pivot-animation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.8: pivot
</figcaption>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
          // default icon
          link.classList.add("external");
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./getting-started.html" class="pagination-link  aria-label=" &lt;span="" started&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Getting started</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./data-wrangling-2.html" class="pagination-link" aria-label="<span class='chapter-number'>5</span>&nbsp; <span class='chapter-title'>Data wrangling II</span>">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data wrangling II</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This font is <a href="https://brailleinstitute.org/freefont">Atkinson Hyperlegible</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>